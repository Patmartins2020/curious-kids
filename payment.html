<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Curious Kids ‚Äì Checkout (Demo)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        --primary: #ff8a3d;
        --primary-dark: #e46f22;
        --card-bg: #ffffff;
        --bg: #f7fbff;
        --text: #1f2933;
        --muted: #6b7280;
        --shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.08);
        --radius-lg: 18px;
        --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: var(--font-main);
        background: radial-gradient(
          circle at top,
          #e0f2ff 0,
          #f7fbff 45%,
          #ffffff 100%
        );
        color: var(--text);
        min-height: 100vh;
      }
      a {
        text-decoration: none;
        color: inherit;
      }
      header {
        position: sticky;
        top: 0;
        z-index: 50;
        background: rgba(247, 251, 255, 0.96);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }
      .nav-inner {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0.6rem 1rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .brand-logo {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        background: conic-gradient(
          from 180deg,
          #ff8a3d,
          #ffd74d,
          #4d8fff,
          #ff8a3d
        );
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-weight: 800;
        font-size: 1.1rem;
        box-shadow: 0 4px 12px rgba(15, 23, 42, 0.15);
      }
      .brand-text {
        display: flex;
        flex-direction: column;
        line-height: 1.1;
      }
      .brand-text span:first-child {
        font-weight: 800;
        font-size: 1rem;
        letter-spacing: 0.03em;
      }
      .brand-text span:last-child {
        font-size: 0.75rem;
        color: var(--muted);
      }
      nav ul {
        list-style: none;
        display: flex;
        gap: 0.75rem;
        font-size: 0.9rem;
      }
      nav a {
        padding: 0.35rem 0.8rem;
        border-radius: 999px;
        color: #475569;
        font-weight: 500;
        transition: background 0.15s, color 0.15s, transform 0.1s;
      }
      nav a:hover {
        background: rgba(77, 143, 255, 0.12);
        color: #1d4ed8;
        transform: translateY(-1px);
      }
      .nav-cta {
        background: #1d4ed8;
        color: #fff;
        box-shadow: 0 3px 10px rgba(37, 99, 235, 0.4);
      }

      main {
        max-width: 1100px;
        margin: 0 auto;
        padding: 1.5rem 1rem 2.5rem;
      }

      .checkout-layout {
        display: grid;
        grid-template-columns: minmax(0, 2fr) minmax(0, 3fr);
        gap: 1.5rem;
        align-items: flex-start;
      }

      .card {
        background: var(--card-bg);
        border-radius: var(--radius-lg);
        padding: 1.1rem 1rem;
        box-shadow: var(--shadow-soft);
        border: 1px solid rgba(148, 163, 184, 0.18);
      }

      h1 {
        font-size: 1.6rem;
        margin-bottom: 0.3rem;
      }
      .page-intro {
        font-size: 0.9rem;
        color: var(--muted);
        margin-bottom: 1rem;
      }

      .order-items {
        font-size: 0.85rem;
        margin-top: 0.5rem;
        max-height: 260px;
        overflow-y: auto;
      }
      .order-row {
        display: flex;
          justify-content: space-between;
        margin-bottom: 0.25rem;
      }
      .order-empty {
        font-size: 0.85rem;
        color: var(--muted);
        background: #eff6ff;
        border-radius: 12px;
        padding: 0.7rem 0.6rem;
        border: 1px dashed rgba(129, 140, 248, 0.7);
        margin-top: 0.5rem;
      }
      .order-total {
        margin-top: 0.6rem;
        font-weight: 700;
        font-size: 0.95rem;
      }

      .field-label {
        font-size: 0.8rem;
        color: #4b5563;
        margin-bottom: 0.15rem;
      }
      .field-input,
      .field-select {
        width: 100%;
        padding: 0.45rem 0.6rem;
        border-radius: 10px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        font-size: 0.85rem;
        margin-bottom: 0.7rem;
      }

      .btn {
        border-radius: 999px;
        padding: 0.55rem 1.4rem;
        border: none;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9rem;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
      }
      .btn-primary {
        background: var(--primary);
        color: #fff;
        box-shadow: 0 5px 16px rgba(248, 113, 22, 0.5);
      }
      .btn-primary:hover {
        background: var(--primary-dark);
      }
      .btn-ghost {
        background: #f9fafb;
        color: #1f2937;
        border: 1px solid rgba(148, 163, 184, 0.6);
      }

      footer {
        margin-top: 2.8rem;
        padding: 1.2rem 1rem 1.8rem;
        font-size: 0.75rem;
        color: var(--muted);
        border-top: 1px solid rgba(148, 163, 184, 0.25);
        text-align: center;
      }

      @media (max-width: 900px) {
        .checkout-layout {
          grid-template-columns: minmax(0, 1fr);
        }
      }
      @media (max-width: 800px) {
        nav ul {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="nav-inner">
        <div class="brand">
          <div class="brand-logo">CK</div>
          <div class="brand-text">
            <span>Curious Kids Q&A</span>
            <span>Ask big questions. Get gentle answers.</span>
          </div>
        </div>
        <nav>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="ask.html">Ask a Question</a></li>
            <li><a href="questions.html">Question Wall</a></li>
            <li><a href="store.html">Store</a></li>
            <li><a href="parents.html">For Parents</a></li>
            <li><a href="legal.html">Legal</a></li>
            <li><a href="ask.html" class="nav-cta">Ask Now</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main>
      <h1>Checkout &amp; Payment (Demo)</h1>
      <p class="page-intro">
        Review your order below. This is a demo payment page ‚Äì real Paystack /
        Flutterwave / Stripe can be added later.
      </p>

      <section class="checkout-layout">
        <!-- LEFT: ORDER SUMMARY -->
        <article class="card">
          <h2 style="font-size: 1.1rem">Your Order</h2>
            <div id="orderItems" class="order-items"></div>
          <div id="orderTotal" class="order-total">Total: $0.00</div>
        </article>

        <!-- RIGHT: PAYMENT FORM (DEMO) -->
        <article class="card">
          <h2 style="font-size: 1.1rem">Payment Details</h2>

          <label class="field-label" for="parentName"
            >Parent / guardian name</label
          >
          <input
            id="parentName"
            class="field-input"
            placeholder="e.g. Mrs Akata"
          />

          <label class="field-label" for="email">Email for receipt</label>
          <input
            id="email"
            class="field-input"
            type="email"
            placeholder="you@email.com"
          />

          <label class="field-label" for="country">We‚Äôll use a sample order country here.</label>
          <input
            id="country"
            class="field-input"
            placeholder="e.g. Nigeria, Ghana, UK"
          />

          <label class="field-label" for="method">Payment method</label>
          <select id="method" class="field-select">
            <option value="">Choose a method</option>
            <option value="paystack">Paystack (Card / Transfer)</option>
            <option value="flutterwave">Flutterwave</option>
            <option value="stripe">Stripe</option>
            <option value="other">Other (future option)</option>
          </select>

          <p
            style="
              font-size: 0.75rem;
              color: var(--muted);
              margin-bottom: 0.9rem;
            "
          >
            For now, this is only a simulation ‚Äì no real money is taken.
          </p>

          <div style="display: flex; gap: 0.6rem; flex-wrap: wrap">
            <button
              class="btn btn-primary"
              type="button"
              onclick="simulatePayment()"
              id="payButton"
            >
              üí≥ Pay Now (Demo)
            </button>

            <a href="store.html" class="btn btn-ghost">‚Üê Back to Store</a>
          </div>
        </article>
      </section>
    </main>

    <footer>
      <p>¬© <span id="year"></span> Curious Kids Q&amp;A.</p>
    </footer>

    <script>
      const CART_KEY = "curiousKidsCart";

      document.getElementById("year").textContent = new Date().getFullYear();

      function escapeHtml(str) {
        if (!str) return "";
        return String(str).replace(
          /[&<>\"']/g,
          (ch) =>
            ({
              "&": "&amp;",
              "<": "&lt;",
              ">": "&gt;",
              '"': "&quot;",
              "'": "&#39;",
            }[ch] || ch)
        );
      }

      function loadCart() {
        try {
          const raw = localStorage.getItem(CART_KEY);
          if (!raw) return [];
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [];
        } catch {
          return [];
        }
      }

      function formatUsd(amount) {
        return "$" + (Number(amount) || 0).toFixed(2);
      }
       function renderOrderSummary() {
        const items = loadCart();
        const itemsEl = document.getElementById("orderItems");
        const totalEl = document.getElementById("orderTotal");
        const payBtn = document.getElementById("payButton");

        let total = 0;

        if (!items.length) {
          itemsEl.innerHTML =
            '<div class="order-empty">Your cart is empty. Go back to the store to add items.</div>';
          totalEl.textContent = "Total: $0.00";
          if (payBtn) {
            payBtn.disabled = true;
            payBtn.style.opacity = 0.6;
          }
          return;
        }

        const rows = items
          .map((item) => {
            const qty = item.quantity || 1;
            const line = (item.priceUSD || 0) * qty;
            total += line;
            return `
              <div class="order-row">
                <span>${escapeHtml(item.name)} x ${qty}</span>
                <span>${formatUsd(line)}</span>
              </div>
            `;
          })
          .join("");

        itemsEl.innerHTML = rows;
        totalEl.textContent = "Total: " + formatUsd(total);

        if (payBtn) {
          payBtn.disabled = false;
          payBtn.style.opacity = 1;
        }
      }

      function simulatePayment() {
        const items = loadCart();
        if (!items.length) {
          alert("Your cart is empty. Please go back to the store.");
          return;
        }
        alert(
          "Demo payment successful! In the real app, this is where Paystack / Flutterwave / Stripe would process the order."
        );
      }

      document.addEventListener("DOMContentLoaded", renderOrderSummary);
    </script>
  </body>
</html>